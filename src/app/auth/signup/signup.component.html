<!-- Modal Structure -->
<div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true" data-bs-backdrop="static">
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content border-0 shadow-lg rounded-4 overflow-hidden">
      
      <!-- Close Button -->
      <button type="button" class="btn-close position-absolute top-0 end-0 m-3 z-3 bg-white rounded-circle p-2 shadow-sm" data-bs-dismiss="modal" aria-label="Close" style="opacity: 1;"></button>
      
      <div class="row g-0" style="min-height: 600px;">
        
        <!-- LEFT SIDE: Carousel -->
        <div class="col-lg-5 d-none d-lg-block position-relative" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
          <div id="signupCarousel" class="carousel slide h-100" data-bs-ride="carousel" data-bs-interval="4000">
            <div class="carousel-indicators">
              <button type="button" data-bs-target="#signupCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
              <button type="button" data-bs-target="#signupCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
              <button type="button" data-bs-target="#signupCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            
            <div class="carousel-inner h-100">
              <!-- Slide 1: Beach Paradise Package -->
              <div class="carousel-item active h-100">
                <div class="position-relative h-100" style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%), url('https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800') center/cover;">
                  <div class="d-flex flex-column justify-content-end h-100 text-white p-5">
                    <div class="mb-4">
                      <span class="badge bg-white text-primary mb-3 px-3 py-2">Featured Package</span>
                      <h3 class="fw-bold mb-3 display-6">Tropical Beach Paradise</h3>
                      <p class="lead mb-3">7 Days of sun, sand, and unforgettable memories</p>
                      <ul class="list-unstyled mb-3">
                        <li class="mb-2"><i class="bi bi-check-circle-fill me-2"></i>5-Star Beachfront Resort</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill me-2"></i>All-Inclusive Meals</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill me-2"></i>Water Sports & Activities</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill me-2"></i>Airport Transfers</li>
                      </ul>
                      <div class="d-flex align-items-center">
                        <span class="fs-4 fw-bold me-2">$1,299</span>
                        <span class="text-decoration-line-through opacity-75">$1,899</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Slide 2: Mountain Adventure Package -->
              <div class="carousel-item h-100">
                <div class="position-relative h-100" style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%), url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800') center/cover;">
                  <div class="d-flex flex-column justify-content-end h-100 text-white p-5">
                    <div class="mb-4">
                      <span class="badge bg-white text-primary mb-3 px-3 py-2">Adventure Special</span>
                      <h3 class="fw-bold mb-3 display-6">Mountain Explorer</h3>
                      <p class="lead mb-3">5 Days of breathtaking peaks and hiking trails</p>
                      <ul class="list-unstyled mb-3">
                        <li class="mb-2"><i class="bi bi-check-circle-fill me-2"></i>Mountain Lodge Stay</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill me-2"></i>Expert Guide & Equipment</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill me-2"></i>Scenic Cable Car Rides</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill me-2"></i>Photography Sessions</li>
                      </ul>
                      <div class="d-flex align-items-center">
                        <span class="fs-4 fw-bold me-2">$899</span>
                        <span class="text-decoration-line-through opacity-75">$1,299</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Slide 3: City Cultural Package -->
              <div class="carousel-item h-100">
                <div class="position-relative h-100" style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%), url('https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800') center/cover;">
                  <div class="d-flex flex-column justify-content-end h-100 text-white p-5">
                    <div class="mb-4">
                      <span class="badge bg-white text-primary mb-3 px-3 py-2">Cultural Experience</span>
                      <h3 class="fw-bold mb-3 display-6">European City Tour</h3>
                      <p class="lead mb-3">10 Days exploring history, art, and cuisine</p>
                      <ul class="list-unstyled mb-3">
                        <li class="mb-2"><i class="bi bi-check-circle-fill me-2"></i>Boutique Hotel Stays</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill me-2"></i>Museum & Gallery Passes</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill me-2"></i>Food & Wine Tours</li>
                        <li class="mb-2"><i class="bi bi-check-circle-fill me-2"></i>Local Expert Guides</li>
                      </ul>
                      <div class="d-flex align-items-center">
                        <span class="fs-4 fw-bold me-2">$2,499</span>
                        <span class="text-decoration-line-through opacity-75">$3,199</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- RIGHT SIDE: Signup Form -->
        <div class="col-lg-7">
          <div class="p-4 p-md-5" style="max-height: 600px; overflow-y: auto;">
            
            <!-- Header -->
            <div class="text-center mb-4">
              <h2 class="fw-bold mb-2" style="color: #667eea;">Create Your Account</h2>
              <p class="text-muted">Fill in your details to get started</p>
            </div>
            
            <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="row g-3">
              
              <!-- First Name -->
              <div class="col-md-6">
                <label class="form-label fw-semibold text-muted small mb-2">
                  <i class="bi bi-person me-1"></i>First Name
                </label>
                <input 
                  type="text" 
                  class="form-control rounded-3" 
                  formControlName="firstName" 
                  placeholder="John" 
                  required>
              </div>

              <!-- Last Name -->
              <div class="col-md-6">
                <label class="form-label fw-semibold text-muted small mb-2">
                  <i class="bi bi-person me-1"></i>Last Name
                </label>
                <input 
                  type="text" 
                  class="form-control rounded-3" 
                  formControlName="lastName" 
                  placeholder="Doe" 
                  required>
              </div>

              <!-- Gender -->
              <div class="col-md-6">
                <label class="form-label fw-semibold text-muted small mb-2">
                  <i class="bi bi-gender-ambiguous me-1"></i>Gender
                </label>
                <select class="form-select rounded-3" formControlName="gender" required>
                  <option value="" disabled selected>Select Gender</option>
                  <option value="male">Male</option>
                  <option value="female">Female</option>
                  <option value="other">Other</option>
                  <option value="prefer-not-to-say">Prefer not to say</option>
                </select>
              </div>

              <!-- Date of Birth -->
              <div class="col-md-6">
                <label class="form-label fw-semibold text-muted small mb-2">
                  <i class="bi bi-calendar-event me-1"></i>Date of Birth
                </label>
                <input 
                  type="date" 
                  class="form-control rounded-3" 
                  formControlName="dateOfBirth" 
                  required>
              </div>

              <!-- Role -->
              <!-- <div class="col-md-6">
                <label class="form-label fw-semibold text-muted small mb-2">
                  <i class="bi bi-briefcase me-1"></i>Role
                </label>
                <select class="form-select rounded-3" formControlName="role" required>
                  <option value="" disabled selected>Select Role</option>
                  <option value="customer">Customer</option>
                  <option value="vendor">Vendor</option>
                  <option value="admin">Admin</option>
                </select>
              </div> -->

              <!-- Username -->
              <div class="col-md-6">
                <label class="form-label fw-semibold text-muted small mb-2">
                  <i class="bi bi-at me-1"></i>Username
                </label>
                <input 
                  type="text" 
                  class="form-control rounded-3" 
                  formControlName="userName" 
                  placeholder="johndoe" 
                  required>
              </div>

              <!-- Email -->
              <div class="col-md-6">
                <label class="form-label fw-semibold text-muted small mb-2">
                  <i class="bi bi-envelope me-1"></i>Email Address
                </label>
                <input 
                  type="email" 
                  class="form-control rounded-3" 
                  formControlName="email" 
                  placeholder="john@example.com" 
                  required>
              </div>

              <!-- Phone -->
              <div class="col-md-6">
                <label class="form-label fw-semibold text-muted small mb-2">
                  <i class="bi bi-telephone me-1"></i>Phone Number
                </label>
                <input 
                  type="tel" 
                  class="form-control rounded-3" 
                  formControlName="telephoneNo" 
                  placeholder="+1 (555) 123-4567" 
                  required>
              </div>

              <!-- Password -->
              <div class="col-12">
                <label class="form-label fw-semibold text-muted small mb-2">
                  <i class="bi bi-lock me-1"></i>Password
                </label>
                <input 
                  type="password" 
                  class="form-control rounded-3" 
                  formControlName="password" 
                  placeholder="Create a strong password" 
                  required>
                <div class="form-text small">Must be at least 8 characters long</div>
              </div>

              <!-- Submit Button -->
              <div class="col-12 mt-4">
                <button 
                  type="submit" 
                  class="btn btn-lg w-100 rounded-3 py-3 fw-semibold text-white border-0 shadow-sm" 
                  style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"
                  [disabled]="!signupForm.valid || loading">
                  <span *ngIf="!loading">
                    <i class="bi bi-check-circle me-2"></i>Sign Up & Continue
                  </span>
                  <span *ngIf="loading">
                    <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                    Creating Account...
                  </span>
                </button>
              </div>

              <!-- Login Link -->
              <div class="col-12 text-center mt-3">
                <p class="text-muted small mb-0">
                  Already have an account? 
                  <a (click)="goToLogin()" class="text-decoration-none fw-semibold" style="color: #667eea; cursor: pointer;">
                    Login here
                  </a>
                </p>
              </div>

              <!-- Security Badge -->
              <div class="col-12 text-center mt-2">
                <p class="text-muted small mb-0">
                  <i class="bi bi-shield-check me-1"></i>
                  Your information is secure and encrypted
                </p>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>